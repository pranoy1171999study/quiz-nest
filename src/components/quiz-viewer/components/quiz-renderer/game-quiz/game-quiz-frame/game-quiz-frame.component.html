<div class="h-full w-full flex flex-col bg-gray-100 dark:bg-gray-800">

  <!-- Sticky Timer Bar -->
  <div class="flex justify-end p-4 bg-gray-200 dark:bg-gray-900 shadow sticky top-0 z-10">
    <div class="flex items-center bg-white dark:bg-gray-800 rounded-lg px-3 py-1 shadow-md">
      <svg class="w-5 h-5 text-yellow-500 mr-2" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 8v5h5"></path>
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      </svg>
      <span class="font-semibold text-gray-800 dark:text-gray-100">{{ remainingTime }} sec</span>
    </div>
  </div>

  <!-- Content Area -->
  <div class="flex-1 flex justify-center items-center h-full overflow-auto px-4 py-2">
    <div *ngIf="media" class="h-full w-full">
        <app-media-view-fullscreen [inputMedia]="media"></app-media-view-fullscreen>
    </div>
    <div *ngIf="question" class="h-full w-full">
        <app-question-view 
        [question]="question"
        [showResult]="showResult"
        (onQuestionSubmit)="onQuestionSubmit($event)">
    </app-question-view>
    </div>
  </div>

  <!-- Sticky Preview Mode Buttons -->
  <div class="flex justify-center items-center gap-6 py-4 bg-gray-200 dark:bg-gray-900 shadow-inner sticky bottom-0 z-10">
    
    <!-- Previous -->
    <button (click)="goPrevious()" class="flex flex-col items-center text-gray-800 dark:text-gray-100 hover:text-blue-500">
      <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
      <span class="text-xs">Previous</span>
    </button>

    <!-- Skip -->
    <button (click)="skipToNext()" class="flex flex-col items-center text-gray-800 dark:text-gray-100 hover:text-red-500">
      <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
      </svg>
      <span class="text-xs">Skip</span>
    </button>

    <!-- Next -->
    <button (click)="goNext()" class="flex flex-col items-center text-gray-800 dark:text-gray-100 hover:text-green-500">
      <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
      <span class="text-xs">Next</span>
    </button>

  </div>
</div>
<canvas id="custom-canvas" class = "fixed inset-0 w-full h-full pointer-events-none" style="z-index: 999999 !important;"></canvas>
