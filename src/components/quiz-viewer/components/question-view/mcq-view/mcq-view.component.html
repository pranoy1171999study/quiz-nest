<div class="w-full h-fit flex flex-col justify-between min-h-[100%]">
    <div *ngIf="mcqQuestion?.questionText" [innerText]="mcqQuestion?.questionText"
        class="w-full h-fit p-4 text-wrap text-center font-semibold text-black dark:text-white"></div>
    <div *ngIf="mcqQuestion?.media"
        class="w-full h-fit flex justify-center items-center p-4 text-wrap text-center font-semibold text-black dark:text-white">
        <app-media-view-fullscreen [inputMedia]="mcqQuestion?.media"
            class="h-full w-full max-w-[70%]"></app-media-view-fullscreen>
    </div>
    <div
        class="w-full h-fit grid grid-cols-1 sm:grid-cols-2 grid-rows-4 sm:grid-rows-2 gap-4 sm:gap-10 sm:p-4 sm:px-10">
        <div *ngFor="let opt of mcqQuestion?.options; let i = index;" class="col-span-1 row-span-1 flex items-center">
            <div class="flex items-center space-x-2 mr-2 sm:mr-4">
                <input type="radio" 
                    [value]="opt.id" 
                    [(ngModel)]="selectedOptionId" 
                    (change)="tryAutoSubmit(opt.id)"
                    [class.pointer-events-none]="questionSubmitted"
                    class="accent-blue-500 sm:h-5 sm:w-5" />
                <span class="font-bold text-black dark:text-white">{{ optionLabels[i] }}</span>
            </div>
            <app-media-view-fullscreen 
                [inputMedia]="opt?.media" 
                class="w-full h-full"
                [ngClass]="{
                    'border-8 border-green-500': (showResult && mcqQuestion?.correctOptionId === opt.id && selectedOptionId === opt.id),
                    'border-8 border-red-500': (showResult && mcqQuestion?.correctOptionId !== opt.id && selectedOptionId === opt.id)
                }">
            </app-media-view-fullscreen>
        </div>
    </div>
    <div *ngIf="!autoSubmit" class="w-full flex justify-center items-center p-4 pb-8">
        <button (click)="submitAnswer()"
            [disabled]="selectedOptionId == null"
            class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-md shadow">
            Submit
        </button>
    </div>
</div>